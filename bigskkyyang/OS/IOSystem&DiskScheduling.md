# 입출력 시스템 & 디스크 스케줄링

## 1. 입출력 시스템(I/O System)

### 1.1 개념  
**운영체제가 CPU와 주변장치(디스크, 키보드, 프린터 등) 간의 데이터 이동을 관리하는 시스템**
입출력 장치는 CPU와 속도 차이가 크기 때문에, 효율적인 제어와 관리를 위해 운영체제가 중간에서 조율한다.

---

### 1.2 입출력 시스템의 구성 요소  

1. **입출력 장치(Device)**  
   - 실제 물리적 하드웨어 (디스크, 마우스, 프린터 등)
   - 사용자와 컴퓨터 시스템의 인터페이스로, 사용자는 입력장치를 이용하여 컴퓨터 시스템에 프로그램과 데이터를 제공하고 컴퓨터 시스템은 처리한 결과를 출력장치를 통해 사용자에게 제공한다.

2. **디바이스 컨트롤러(Device Controller)**  
   - 장치와 CPU 사이에서 데이터 전송을 중개함  
   - 장치의 상태 제어 및 버퍼 관리 담당  

3. **장치 드라이버(Device Driver)**  
   - 운영체제와 하드웨어를 연결하는 소프트웨어  
   - 하드웨어 별 제어 명령을 표준화된 인터페이스로 제공  

4. **I/O 인터페이스**
   - **입력장치 인터페이스**: 입력장치에서 입력된 디지털 형태의 데이터와 컴퓨터 시스템 내에 있는 중앙처리장치나 주기억장치 내에서 다루는 형태의 데이터 차이를 해결
   - **출력장치 인터페이스**: 중앙처리장치나 주기억장치 내에서 다루는 형태의 데이터와 출력장치가 출력하기 위하여 다루는 데이터의 차이를 해결
   - 사용자 프로그램이 장치를 직접 다루지 않고, 시스템 호출(System Call)을 통해 접근하도록 함  

---

### 1.3 입출력 수행 방식  

| 방식 | 설명 | 특징 |
|------|------|------|
| **프로그램 입출력(Programmed I/O)** | CPU가 장치의 입출력을 직접 제어 | 단순하지만 CPU 낭비 큼 |
| **인터럽트 입출력(Interrupt-Driven I/O)** | 장치 작업 완료 시 인터럽트를 발생시켜 CPU에 알림 | CPU 효율 증가 |
| **DMA(Direct Memory Access)** | 메모리와 입출력 장치가 직접 데이터를 주고받음 (CPU 개입 최소화) | 대용량 데이터 처리에 효율적 |

---

### 1.4 입출력 버퍼링(Buffering)  
입출력 속도 차이를 줄이기 위해 **데이터를 임시로 저장하는 공간(버퍼)**을 사용함.  

- **단일 버퍼(Single Buffer)** : 한 개의 버퍼만 사용  
- **이중 버퍼(Double Buffer)** : 하나는 입출력 중, 다른 하나는 CPU가 처리 중  
- **순환 버퍼(Circular Buffer)** : 버퍼를 순환 구조로 구성하여 연속적인 데이터 스트림 처리  

---

## 2. 디스크 스케줄링(Disk Scheduling)

### 2.1 개념  
**디스크 접근 요청의 순서를 효율적으로 정하는 알고리즘**
디스크 헤드의 이동 거리를 최소화하고, 접근 시간을 줄이는 것이 목적

---

### 2.2 디스크 구조 기본  

- **플래터(Platter)** : 실제 데이터를 저장하는 원판  
- **트랙(Track)** : 플래터 표면의 동심원 경로  
- **섹터(Sector)** : 트랙을 나눈 가장 작은 저장 단위  
- **실린더(Cylinder)** : 여러 플래터에서 동일한 트랙 번호를 연결한 집합  
- **디스크 암(Arm)** : 트랙 사이를 이동하는 장치  
- **헤드(Head)** : 실제 데이터를 읽고 쓰는 장치  

디스크 접근 시간 = 탐색 시간(Seek Time) + 회전 지연(Rotational Delay) + 전송 시간(Transfer Time)

---

### 2.3 디스크 스케줄링 알고리즘  

#### 1) FCFS (First Come, First Served)  
- 요청된 순서대로 처리  
- 구현이 가장 단순함  

**장점:** 공정함  
**단점:** 헤드 이동이 많아 평균 탐색 시간이 큼  

#### 예시  
요청 순서: 98, 183, 37, 122, 14, 124, 65, 67  
→ 순서대로 처리

---

#### 2) SSTF (Shortest Seek Time First)  
- 현재 헤드 위치에서 **가장 가까운 요청**을 먼저 처리  

**장점:** 평균 탐색 시간 감소  
**단점:** 멀리 있는 요청이 계속 지연될 수 있음 (기아 현상)  

---

#### 3) SCAN (엘리베이터 알고리즘)  
- 헤드가 한 방향으로 이동하며 모든 요청을 처리한 뒤, 끝에 도달하면 반대 방향으로 이동  

**장점:** 효율적이며 기아 현상 완화  
**단점:** 양 끝 요청이 상대적으로 오래 기다림  

---

#### 4) C-SCAN (Circular SCAN)  
- SCAN과 유사하지만, 한 방향으로만 이동하며 끝에 도달하면 헤드를 처음으로 되돌림  
- 한쪽 방향의 접근 시간을 일정하게 유지함  

**장점:** 균등한 대기 시간 제공  
**단점:** 반대 방향 이동 시 비효율적 (되돌림 시간 발생)  

---

#### 5) LOOK / C-LOOK  
- SCAN과 유사하지만, 실제 요청이 있는 트랙까지만 이동하고 되돌아옴  
- C-LOOK은 한쪽 방향만 탐색  

**장점:** 불필요한 이동 감소 → SCAN보다 효율적  

---

### 2.4 알고리즘 비교  

| 알고리즘 | 이동 방향 | 효율성 | 기아 현상 | 특징 |
|-----------|------------|----------|-------------|-------|
| FCFS | 순차 처리 | 낮음 | 없음 | 단순, 공정 |
| SSTF | 가까운 요청 우선 | 중간 | 있음 | 평균 탐색 시간 감소 |
| SCAN | 왕복 이동 | 높음 | 낮음 | 엘리베이터 방식 |
| C-SCAN | 한 방향 순환 | 높음 | 없음 | 일정한 대기 시간 |
| LOOK | 요청 구간만 이동 | 매우 높음 | 낮음 | 불필요 이동 없음 |

---

## 3. 디스크 스케줄링 성능에 영향을 주는 요소  

1. **디스크 요청의 분포**  
   - 요청이 특정 구간에 몰리면 탐색 효율 떨어짐  

2. **헤드 초기 위치**  
   - 현재 헤드 위치에 따라 처리 순서 달라짐  

3. **스케줄링 정책의 목적**  
   - 평균 응답 시간, 처리율, 공정성 등 우선순위에 따라 선택 달라짐  

---