# 💻 프로세스(Process) vs 스레드(Thread)

## 📌 1. 프로세스와 스레드?

* **프로세스(Process)**: **운영체제로부터 자원을 할당받아 실행되는 프로그램**. 각 프로세스는 실행을 위해 필요한 독립적인 메모리 공간을 가진다. 운영체제가 관리하는 작업의 최소 단위.

* **스레드(Thread)**: **프로세스 내에서 실행되는 작업의 흐름 단위**. 한 프로세스 안에는 하나 이상의 스레드가 존재하며, 이 스레드들은 프로세스의 자원을 공유하면서 일을 한다. 스레드는 CPU에 의해 실행되는 작업의 가장 작은 단위이다.

## 📌 2. 프로세스와 스레드의 메모리 구조

두 개념의 가장 중요한 차이점은 **메모리 구조**에 있다.

### **프로세스 메모리 구조**
프로세스는 실행을 위해 운영체제로부터 독립적인 메모리 공간을 할당받는다. 메모리 공간은 크게 4가지 영역으로 나뉜다.
* **코드(Code) 영역**: 실행할 프로그램 코드가 들어있는 영역
* **데이터(Data) 영역**: 전역 변수나 정적 변수들이 저장되는 곳
* **힙(Heap) 영역**: 동적으로 할당되는 데이터가 저장되는 공간
* **스택(Stack) 영역**: 함수 호출 시 매개변수, 지역 변수, 반환 주소 등 임시 데이터가 저장되는 공간


### **스레드 메모리 구조**
스레드는 프로세스 내부에 존재하므로, 프로세스의 **코드, 데이터, 힙 영역을 공유**한다. 하지만 각 스레드는 독립적인 실행 흐름을 위해 **자신만의 스택**을 가진다.

이 구조 덕분에 스레드는 프로세스보다 훨씬 가볍고 빠르게 생성되거나 소멸될 수 있다.

## 📌 3. 멀티 프로세스 vs 멀티 스레드

**멀티 프로세스(Multi-Process)**와 **멀티 스레드(Multi-Thread)**는 여러 작업을 동시에 처리하기 위한 두 가지 대표적인 방법.

### **멀티 프로세스**
여러 프로세스를 동시에 실행하여 작업을 처리하는 방식.

* **장점**
    * **높은 안정성**: 프로세스 간 독립된 메모리 공간을 사용하므로, 한 프로세스에 문제가 발생해도 다른 프로세스에 영향을 주지 않아 시스템 전체의 안정성이 높다. 예를 들어, 크롬(Chrome) 브라우저는 각 탭을 별도의 프로세스로 관리하여 한 탭이 멈춰도 다른 탭은 정상적으로 작동한다.
    * **쉬운 자원 회수**: 프로세스 종료 시 운영체제가 할당된 모든 자원을 깨끗하게 회수할 수 있다.

* **단점**
    * **많은 자원 소모**: 각 프로세스가 독립적인 메모리 공간을 가지므로, 메모리 사용량이 많고 오버헤드가 크다.
    * **복잡한 통신**: 프로세스 간 자원을 공유하기 어렵기 때문에, 통신(IPC, Inter-Process Communication)을 위한 별도의 메커니즘이 필요해 복잡하다.

### **멀티 스레드**
한 프로세스 내에서 여러 스레드를 동시에 실행하여 작업을 처리하는 방식.

* **장점**
    * **적은 자원 소모**: 스레드들이 프로세스의 자원을 공유하므로 메모리 사용량이 적고, 생성 및 문맥 교환 비용이 낮아 효율적이다.
    * **쉬운 통신**: 스레드들이 같은 메모리 공간을 공유하므로, 전역 변수 등을 통해 데이터 통신이 간편하다.

* **단점**
    * **낮은 안정성**: 한 스레드에 문제가 발생하면 프로세스 전체가 영향을 받아 종료될 수 있다.
    * **동기화 문제**: 여러 스레드가 동시에 공유 자원에 접근할 때, 순서가 꼬이면서 데이터 충돌이 발생할 수 있다. 이를 해결하기 위해 **'동기화(Synchronization)'** 메커니즘(예: 뮤텍스, 세마포어)이 필요하며, 이는 개발 난이도를 높이는 요인이 된다.

## 어떨 때 선택?

* **멀티 프로세스**: 독립적인 작업 처리가 중요하고, 안정성이 최우선일 때 사용. 예를 들어, 웹 브라우저, 웹 서버처럼 여러 클라이언트의 요청을 독립적으로 처리해야 하는 경우에 적합.
* **멀티 스레드**: 하나의 프로그램 안에서 여러 작업을 동시에 처리해야 하고, 자원 효율성과 빠른 응답 속도가 중요할 때 사용. 예를 들어, 워드프로세서에서 사용자의 입력을 받으면서 동시에 맞춤법을 검사하거나, 게임 클라이언트에서 그래픽 렌더링과 사용자 입력을 동시에 처리하는 경우에 적합.

---
