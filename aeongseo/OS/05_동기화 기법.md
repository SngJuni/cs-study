# 동기화 기법 (Synchronization)

## 동기화가 필요한 이유

### 경쟁 상태(Race Condition)

- 여러 스레드/프로세스가 동시에 같은 자원에 접근하여 실행 순서에 따라 결과가 달라지는 상황

### 임계 구역(Critical Section)

- 공유 자원에 접근하는 코드 영역 → 이 부분은 반드시 동시에 하나의 프로세스/스레드만 실행해야 함

## 주요 동기화 기법

### 뮤텍스(Mutex, Mutual Exclusion)

- 잠금(Lock) 메커니즘으로, 한 번에 하나의 스레드만 자원에 접근 가능
- 다른 스레드가 접근하려 하면 ****대기(block) 상태로 전환
- ex. 은행 계좌 입출금 처리 시, 한 순간에 한 명만 접근하도록 보장

### 세마포어(Semaphore)

- 카운터를 사용하여 접근 가능한 스레드의 수를 제한
- 이진 세마포어 (Binary Semaphore): 0 또는 1만 가능 → 사실상 뮤텍스와 동일
- 계수 세마포어 (Counting Semaphore): 0 이상 정수값 → 여러 개의 프로세스가 동시에 접근 가능
- ex. 제한된 수의 프린터, DB 연결 풀 관리

### 모니터(Monitor)

- 고수준 동기화 도구. 언어나 라이브러리에서 제공
- 임계 구역 접근을 자동으로 제
- 내부에 조건 변수(Condition Variable)를 두어 특정 조건을 기다리거나 깨우는 기능 제공
- ex. Java의 `synchronized` 블록, `wait()`, `notify()`

## 교착 상태(Deadlock)와 기아(Starvation)

- 동기화 기법 설계 시 반드시 고려해야 하는 문제

### 교착 상태

- 두 개 이상의 프로세스가 서로 자원을 기다리며 영원히 멈춤

### 기아 상태

- 특정 프로세스가 계속해서 자원을 할당받지 못하고 무한히 대기