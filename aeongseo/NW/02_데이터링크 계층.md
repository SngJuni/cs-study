# 데이터링크 계층

- 네트워크 하위 계층 중 실제 장비와 가장 밀접한 계층
- 네트워크 동작 이해에 필수

## 계층의 위치와 역할

- OSI 7 계층 중 2 계층
- 물리적으로 보낸 비트열을 프레임(Frame) 단위로 묶어 오류 없이, 순서대로, 신뢰성 있게 전달

## 핵심 기능

### 1) 프레이밍 (Framing)

- 상위 계층(네트워크 계층)의 데이터 받아 전송 단위인 Frame으로 나눔
- Frame = Header + Data + Trailer
    - Header : 주소 정보 (출발지 / 목적지 MAC 주소 등)
    - Data : 실제 전달할 내용
    - Trailer : 에러 검사용 (CRC)
- ⇒ 데이터를 묶어서 보낼 수 있는 형태로 만든다.

### 2) 물리적 주소 지정 (Physical Addressing)

- MAC 주소 사용 : 하드웨어(네트워크 카드)에 부여된 고유한 주소, 물리적 주소

### 3) 오류 검출 및 수정 (Error Detection & Correction)

- 오류 검출 코드 추가
- 대표 방식 : CRC (Cyclic Redundancy Check)
    - 전송/저장 중 비트 오류를 검출하기 위한 방법
  - 송신 : 데이터를 생성 다항식으로 나눈 나머지를 붙여 전송
  - 수신 : 같은 방법으로 계산 → 다르면 오류 발생
    > Q. 2계층인데 왜 비트 오류 검출?
    >
    > A. 1계층은 단순 전송만 담당. 오류 검출 X
    >
    > &nbsp;&nbsp;&nbsp;2계층에서 프레임 단위로 오류 검출
- 일부 프로토콜은 재전송 요청(ARQ)으로 수정 가능

### 4) 흐름 제어 (Flow Control)

- 송신 측이 너무 빨리 보내면 수신 측 감당 못함 → 흐름 제어 필요
- 방법
    - Stop and Wait : 한 프레임 보내고 확인 응답(ACK) 기다림
- 4계층의 흐름제어와의 차이
    - 2계층 : 한 홉(Neighbor) 간 통신, 링크 단위 버퍼 오버플로 방지
    - 4계층 : 종단 간 통신, 수신측 호스트의 버퍼 오버플로 방지

### 5) 접근 제어 (Access Control)

- 여러 기기가 같은 통신 채널 사용할 때, 누가 먼저 전송할지 결정
- 매체 접근 제어(MAC; Medium Access Control) : 충돌 방지 위한 규칙들
- 주요 방식
    - CSMA/CD (Ethernet, 유선 LAN)
        - Carrier Sense Multiple Access with Collision Detection
        - 보내기 전 통신선 비었는지 확인, 충돌 시 감지 후 재전송
    - CSMA/CA (Wi-Fi, 무선 LAN)
        - Collision Avoidance
        - 충돌 미리 피하는 방식 (ACK 사용)

## 구성 하위 계층

- MAC(Medium Access Control)
    - 매체 접근 제어, 주소 지정, 충돌 방지
- LLC (Logical Link Control)
    - 오류 제어, 흐름 제어, 프레이밍 담당

## 대표 프로토콜 및 장비

| 항목 | 예시 |
| --- | --- |
| 프로토콜 | Ethernet, PPP, HDLC |
| 대표 장비 | Switch, Bridge |