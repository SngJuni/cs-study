# 라우팅 (Routing)

## 정의

- 네트워크에서 데이터가 목적지까지 가는 경로를 결정하는 과정
- 송신자가 보낸 IP 패킷이 목적지까지 도달하도록 경로 선택, 전달
- 라우팅하는 장비 = 라우터

## 라우터 역할

- OSI 7계층 중 3계층에서 동작
- IP 주소 기반으로 패킷 전달
- 목적지 주소 분석 → 최적의 경로 선택 → 다음 홉(next hop)으로 전달

### 주요 기능

| 기능 | 설명 |
| --- | --- |
| 패킷 전달 (Packet Forwarding) | 들어온 패킷을 목적지 방향으로 전송 |
| 라우팅 (Routing) | 네트워크 토폴로지 기반으로 최적 경로 결정 |
| 라우팅 테이블 관리 | 목적지별 경로 정보를 테이블 형태로 저장 |
| 네트워크 분할 | 서로 다른 네트워크 간 통신 중계 |

## 라우팅 테이블

- 라우터가 참조하는 길찾기 지도

| 항목 | 설명 |
| --- | --- |
| Destination | 목적지 네트워크 주소 |
| Subnet Mask | 네트워크 구분용 마스크 |
| Next Hop | 다음에 전달할 라우터의 주소 |
| Interface | 나가는 네트워크 인터페이스 |
| Metric(Cost) | 경로의 효율성(거리, 대역폭 등) 지표 |

## 라우팅 종류

### 1) 정적 라우팅 (StaticRouting)

- 관리자가 직접 경로 설정
- 변경 적고 작은 네트워크에 적합
- 장점 : 단순, 예측 가능, CPU 부하 적음
- 단점 : 장애 발생 시 자동 복구 불가, 유지보수 어려움

### 2) 동적 라우팅 (Dynamic Routing)

- 라우터끼리 라우팅 프로토콜 사용해 경로 정보 자동 교환
- 네트워크 변화에 따라 자동으로 테이블 갱신
- 장점 : 유연함, 장애 대응 가능
- 단점 : 설정 복잡, 오버헤드 증가

## 주요 라우팅 프로토콜

### 1) Interior Gateway Protocol (IGP)

- 하나의 자율 시스템(AS) 내부에서 사용 (기업 내부 네트워크 수준)
- RIP (Routing Information Protocol)
    - 거리 벡터
    - 홉 수 기반, 단순하지만 드림 (최대 15홉)
- OSPF (Open Shortest Path First)
    - 링크 상태
    - 대규모 네트워크에 적합, Dijkstra 알고리즘 사용
- EIGRP (Cisco 전용)
    - 하이브리드
    - 거리벡터 + 링크상태 혼합, 빠른 수렴 속도

### 2) Exterior Gateway Protocol (EGP)

- 자율 시스템 간(AS 간), 즉 인터넷 백본 라우팅에 사용
- BGP (Border Gateway Protocol)
    - 전 세계 인터넷에서 사용하는 프로토콜
    - 경로 벡터 방식 사용

## 라우팅 알고리즘

- 경로 계산 위해 알고리즘 사용
- Distance Vector
    - 이웃으로부터 거리 정보만 받아서 최단 거리 선택
    - ex. RIP
- Link State
    - 네트워크 저네 토폴로지 정보 공유
    - Dijkstra로 최단경로 계산
    - ex. OSPF
- Path Vector
    - 경로 전체를 벡터로 관리 (정책 기반)
    - ex. BGP

## 기본 경로 (Default Route)

- 라우터가 라우팅 테이블에 해당 경로 없을 때 사용하는 경로