# DNS & DHCP

### DNS (Domain Name System)

---

**정의**

- **DNS**는 사람이 읽을 수 있는 도메인 이름(예: `www.google.com`)을
    
    **컴퓨터가 사용하는 IP 주소(예: 142.250.196.68)** 로 변환해주는 시스템이다.
    
- 인터넷의 **전화번호부** 역할을 하며, 전 세계적으로 계층적으로 구성되어 있다.

**구조**

- **Root DNS** → **TLD 서버(.com, .net 등)** → **Authoritative 서버(실제 IP 정보)** 의 계층 구조
- 클라이언트는 보통 **로컬 DNS 서버(캐시 서버)** 를 통해 이름 해석을 요청한다.

**동작 과정**

1. 사용자가 브라우저에 `www.example.com` 입력
2. 클라이언트는 **로컬 DNS 서버**에게 질의
3. 로컬 서버에 캐시가 없으면
→ Root 서버 → TLD 서버 → Authoritative 서버 순으로 재귀 질의 진행
4. 최종 IP 주소를 받아 클라이언트에게 전달
5. 이후 결과는 **캐시(Cache)** 로 저장되어 재요청 시 빠르게 응답

**기능 및 특징**

- 도메인 이름과 IP의 매핑 관리
- 계층적·분산형 구조로 부하 분산
- **DNS 캐싱**으로 성능 향상
- **Reverse DNS**: IP → 도메인 이름 역변환 가능

### DHCP (Dynamic Host Configuration Protocol)

---

**정의**

- **DHCP**는 네트워크에 연결된 장치에
    
    **IP 주소, 서브넷 마스크, 게이트웨이, DNS 서버** 등의 정보를 자동으로 할당하는 프로토콜이다.
    
- IP 주소를 수동으로 설정할 필요 없이 **자동 구성(Auto Configuration)** 을 지원한다.

**동작 과정**

1. **Discover** – 클라이언트가 네트워크에 DHCP 서버를 찾기 위해 브로드캐스트 전송
2. **Offer** – 서버가 사용 가능한 IP 주소와 설정 정보를 제안
3. **Request** – 클라이언트가 제안받은 IP 중 하나를 선택해 요청
4. **Acknowledge** – 서버가 IP를 최종 승인하고 임대(Lease) 시작
    
    → 이 4단계를 줄여 **DORA 과정**이라 부른다.
    

**특징**

- IP 자동 관리로 인한 **운영 효율성 증가**
- IP 중복 방지 및 임대 기반 관리
- 설정 정보(IP, Gateway, DNS 등)를 함께 제공
- 서버와 클라이언트는 각각 **UDP 67(서버)** / **UDP 68(클라이언트)** 포트를 사용

### DNS & DHCP 관계

---

- 두 프로토콜은 모두 **IP 주소 체계 관리**를 담당하지만, 역할이 다르다.
    - **DHCP** → “누가 어떤 IP를 쓸지 자동으로 할당”
    - **DNS** → “그 IP에 이름(도메인)을 부여하고 조회할 수 있게 함”
- 즉, DHCP가 주소를 **부여**하고, DNS가 주소를 **찾아주는** 구조다.

## 관련 면접 질문

- DNS의 역할은 무엇인가요?
    - 사람이 기억하기 쉬운 도메인 이름을 컴퓨터가 이해할 수 있는 IP 주소로 변환한다.
- DNS 질의 과정에서 캐싱이 중요한 이유는 무엇인가요?
    - 반복된 이름 해석 요청을 빠르게 처리해 네트워크 부하를 줄이고 응답 속도를 높인다.
- DHCP의 DORA 과정이란?
    - Discover, Offer, Request, Acknowledge 의 4단계로 IP를 자동 할당하는 절차이다.
- DNS와 DHCP의 차이점은?
    - DHCP는 IP를 배포, DNS는 IP를 조회한다.
    - DHCP는 “주소 설정 자동화”, DNS는 “이름 ↔ 주소 변환”에 초점이 있다.