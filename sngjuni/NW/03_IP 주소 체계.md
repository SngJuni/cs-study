# IP 주소 체계

### IP 주소 체계(IP Address System)

---

**개념**

- **IP(Internet Protocol)** 주소는 네트워크 상의 장치를 식별하기 위한 **논리적 주소**이다.
- OSI 7계층 중 **네트워크 계층(3계층)** 에서 사용되며, 패킷의 출발지와 목적지 주소를 포함한다.
- MAC 주소가 물리적 식별자라면, IP 주소는 네트워크 내 논리적 식별자로 작동한다.
- 라우터는 IP 주소를 기반으로 패킷이 이동할 최적의 경로를 결정한다.

**세부 내용**

1. **IPv4 주소 체계**
    - IPv4는 **32비트(4옥텟)** 로 구성되어 있으며, 각 옥텟은 0~255의 값을 가진다.
        
        ex) `192.168.0.1`
        
    - 주소는 **네트워크 부분**과 **호스트 부분**으로 나뉘며, 네트워크의 크기를 결정하는 **서브넷 마스크**로 구분된다.
        
        ex) `192.168.0.0/24` → 앞의 24비트는 네트워크, 나머지 8비트는 호스트
        
    - 약 43억 개의 주소를 제공하지만, 인터넷 기기 급증으로 **주소 고갈** 문제가 발생했다.
    - IPv4는 보안, 인증, 멀티캐스트 등 기능이 제한적이다.
2. **IPv6 주소 체계**
    - IPv6는 IPv4의 한계를 해결하기 위해 만들어진 **128비트 주소 체계**이다.
        
        ex) `2001:0db8:0000:0000:0000:ff00:0042:8329`
        
    - 16비트 단위로 8개 블록으로 나뉘며, **16진수로 표현**한다.
    - 연속된 0은 `::`으로 생략 가능 (단, 한 번만 사용 가능).
        
        ex) `2001:db8::ff00:42:8329`
        
    - 주소 공간이 사실상 무한대(2¹²⁸개)에 가까우며, **IPSec 내장**, **자동 주소 설정**(Stateless Auto Configuration) 기능을 포함한다.
    - IPv6는 NAT 없이도 각 장치가 고유 주소를 가질 수 있어 **엔드 투 엔드 통신**이 가능하다.
3.  **주소 분류 (IPv4 기준)**
- IP 주소는 원래 **A, B, C, D, E 클래스**로 구분되었으며, 네트워크 크기에 따라 네트워크/호스트 비율이 달랐다.
    
    
    | 클래스 | 시작 주소 범위 | 용도 | 비고 |
    | --- | --- | --- | --- |
    | **A** | 0.0.0.0 ~ 127.255.255.255 | 대형 네트워크 | 네트워크: 8bit / 호스트: 24bit |
    | **B** | 128.0.0.0 ~ 191.255.255.255 | 중형 네트워크 | 네트워크: 16bit / 호스트: 16bit |
    | **C** | 192.0.0.0 ~ 223.255.255.255 | 소형 네트워크 | 네트워크: 24bit / 호스트: 8bit |
    | **D** | 224.0.0.0 ~ 239.255.255.255 | 멀티캐스트용 | 라우팅 불가 |
    | **E** | 240.0.0.0 ~ 255.255.255.255 | 실험용 | 사용 제한 |
- 하지만, 고정된 크기의 비효율성 때문에 현재는 **CIDR(Classless Inter-Domain Routing)** 방식이 사용된다.
    - CIDR은 `/24`, `/16` 형태로 서브넷 크기를 유연하게 설정하여 주소 낭비를 줄인다.
        
        ex) `192.168.0.0/24` → 앞 24비트는 네트워크, 나머지 8비트는 호스트
        
1. **공인 IP와 사설 IP**
- **공인 IP(Public IP)**
    - 인터넷에서 고유하게 식별 가능한 주소로, 전 세계적으로 중복되지 않는다.
    - ex) `8.8.8.8` (Google DNS)
    - ISP(Internet Service Provider)로부터 직접 할당받는다.
- **사설 IP(Private IP)**
    - 내부 네트워크(LAN)에서만 사용하는 주소로, 인터넷에서는 중복 가능하다.
    - 대표 범위:
        - `10.0.0.0 ~ 10.255.255.255`
        - `172.16.0.0 ~ 172.31.255.255`
        - `192.168.0.0 ~ 192.168.255.255`
    - 외부와 통신 시에는 **NAT(Network Address Translation)** 을 통해 공인 IP로 변환된다.
- **NAT의 역할**
    - 여러 장치가 하나의 공인 IP를 공유하여 외부와 통신할 수 있도록 함.
    - IP 부족 문제를 완화하고, 내부망 보호에도 유용하다.
1. **서브넷팅 (Subnetting)**
- 서브넷팅은 하나의 큰 네트워크를 여러 개의 **소규모 네트워크(서브넷)** 으로 나누는 기술이다.
- 효율적인 IP 주소 관리와 네트워크 트래픽 분산이 가능하다.
- 서브넷 마스크를 이용해 네트워크와 호스트를 구분한다.
    
    ex)
    
    - `255.255.255.0` = `/24` → 네트워크 24비트, 호스트 8비트
    - `255.255.255.128` = `/25` → 호스트 7비트만 사용 (128개 호스트 가능)
- 서브넷팅을 통해 보안성과 관리 효율성이 향상된다.

## 관련 면접 질문

- IPv4와 IPv6의 차이점은 무엇인가요?
    - IPv4는 32비트 주소로 한계가 있지만, IPv6는 128비트로 확장되어 주소 고갈 문제를 해결하고 보안(IPSec)과 자동 설정 기능을 내장합니다.
- 공인 IP와 사설 IP의 차이를 설명해주세요.
    - 공인 IP는 인터넷 상에서 고유하며 외부 통신용이고, 사설 IP는 내부망에서만 사용되며 NAT를 통해 외부와 연결됩니다.
- 서브넷팅을 하는 이유는 무엇인가요?
    - 주소 공간을 효율적으로 분할해 관리성과 보안을 높이고, 네트워크 트래픽을 분산하기 위함입니다.