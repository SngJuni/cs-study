# 관계형 DB 기본

### 관계형 데이터베이스(Relation Database)

---

**정의**

- 데이터를 **행(Row)** 과 **열(Column)** 로 구성된 **테이블(릴레이션, Relation)** 형태로 저장하고 관리하는 데이터베이스 모델
- 모든 데이터가 **관계(Relationship)** 를 통해 서로 연결되며,
  각 테이블은 하나의 개체(Entity)를 표현함
- 데이터를 수학적인 **집합 이론(Set Theory)** 과 **관계 대수(Relational Algebra)** 에 기반해 처리하기 때문에, **정형화된 구조와 일관성 있는 데이터 관리**가 가능함
- 대표적인 RDBMS: MySQL, PostgreSQL, Oracle, SQL Server 등

**핵심 내용**

1. **기본 구성요소**

   | 구성요소               | 설명                             | 예시                          |
   | ---------------------- | -------------------------------- | ----------------------------- |
   | **릴레이션(Relation)** | 데이터를 저장하는 테이블 단위    | Student(학생), Course(강의)   |
   | **튜플(Tuple)**        | 릴레이션의 한 행(레코드)         | (2024001, 홍길동, 컴퓨터공학) |
   | **속성(Attribute)**    | 릴레이션의 열(데이터 항목)       | 학번, 이름, 전공              |
   | **도메인(Domain)**     | 각 속성이 가질 수 있는 값의 범위 | 학번은 숫자 8자리             |

   ➡ 하나의 릴레이션은 **유일한 이름을 가진 속성들의 집합** 으로 구성되며, 각 튜플은 해당 속성들의 구체적 값을 가짐.

2. **키(Key)의 종류**

   | 종류                       | 설명                                         | 특징                         |
   | -------------------------- | -------------------------------------------- | ---------------------------- |
   | **기본키 (Primary Key)**   | 각 튜플을 유일하게 식별할 수 있는 속성       | NULL 불가, 중복 불가         |
   | **후보키 (Candidate Key)** | 기본키 후보가 될 수 있는 속성의 집합         | 여러 개 존재할 수 있음       |
   | **대체키 (Alternate Key)** | 후보키 중 선택되지 않은 나머지 키            | 보조 식별자 역할             |
   | **외래키 (Foreign Key)**   | 다른 릴레이션의 기본키를 참조하는 속성       | 관계(Relationship) 연결 담당 |
   | **슈퍼키 (Super Key)**     | 튜플을 유일하게 구분할 수 있는 속성들의 집합 | 최소성을 고려하지 않음       |

   ➡ 키를 통해 데이터의 **무결성**을 보장하고, 테이블 간의 관계를 정의함.

3. 관계형 연산(Relational Operations)

   | 연산 종류            | 설명                                | 기호    | 예시                    |
   | -------------------- | ----------------------------------- | ------- | ----------------------- |
   | **선택(Selection)**  | 조건에 맞는 행(Row)을 선택          | σ       | σ(학과='컴공')(Student) |
   | **투영(Projection)** | 특정 속성(열)만 추출                | π       | π(이름, 전공)(Student)  |
   | **조인(Join)**       | 여러 릴레이션을 공통 속성으로 결합  | ⋈       | Student ⋈ Course        |
   | **집합 연산(Set)**   | 합집합, 교집합, 차집합 등 수행      | ∪, ∩, − | A ∪ B                   |
   | **디비전(Division)** | 특정 조건을 만족하는 모든 튜플 추출 | ÷       | A ÷ B                   |

   ➡ 이 연산들은 SQL의 `SELECT`, `JOIN`, `UNION` 등의 명령어로 구현됨.

4. 무결성 제약조건(Integrity Constraint)

   | 종류                   | 설명                                      | 예시                             |
   | ---------------------- | ----------------------------------------- | -------------------------------- |
   | **개체 무결성**        | 기본키는 NULL이거나 중복될 수 없음        | 학번은 항상 유일해야 함          |
   | **참조 무결성**        | 외래키는 참조 대상의 기본키에 존재해야 함 | 존재하지 않는 과목코드 수강 불가 |
   | **도메인 무결성**      | 속성값은 정의된 도메인을 벗어날 수 없음   | 성적은 A~F 범위 내 값만 허용     |
   | **사용자 정의 무결성** | 업무 규칙에 따른 제약조건                 | 학점 4.5 초과 금지 등            |

   ➡ 무결성 제약을 통해 잘못된 데이터 입력을 **사전에 방지**할 수 있음.

5. SQL과 관계형 모델
   - 관계형 DB는 **SQL(Structured Query Language)** 을 사용해 데이터 정의 및 조작 수행
     - **DDL (Data Definition Language)**: CREATE, ALTER, DROP
     - **DML (Data Manipulation Language)**: SELECT, INSERT, UPDATE, DELETE
     - **DCL (Data Control Language)**: GRANT, REVOKE
   - SQL은 관계형 연산(선택, 투영, 조인 등)을 **명령형 언어**로 표현한 것

**특징**

- 데이터를 **정형화된 테이블 구조**로 표현하여 직관적이고 관리가 용이함
- **데이터 중복 최소화** 및 **데이터 무결성 유지**
- **정규화(Normalization)** 를 통해 구조적 일관성 강화
- **SQL 표준화** 덕분에 다양한 DBMS 간 호환성이 높음
- 복잡한 데이터 관계를 **조인(Join)** 으로 효율적으로 표현 가능

**장단점**

- **장점**
  - 데이터의 일관성과 무결성이 보장됨
  - 명확한 데이터 구조로 설계 및 유지보수 용이
  - SQL 기반으로 표준화되어 개발자 접근성 높음
  - 다중 사용자 환경에서도 안정적인 동시성 제어 가능
- **단점**
  - 대규모 데이터나 비정형 데이터 처리에는 비효율적
  - 테이블 간 **JOIN 연산이 많을수록 성능 저하** 가능
  - 스키마 구조 변경이 필요할 경우 유연성이 떨어짐

## 관련 면접 질문

- 관계형 데이터베이스란 무엇이며, 다른 DB와의 차이는 무엇인가요?
  - 데이터를 행과 열로 구성된 테이블 형태로 저장, 테이블 간 관계를 통해 데이터를 연결
  - 문서 기반(NoSQL) DB와 달리 정형화된 구조를 갖고, SQL을 통해 일관성 있게 데이터 조작이 가능
- 기본키(Primary Key)와 외래키(Foreign Key)의 차이를 설명해보세요.
  - 기본키는 각 행을 고유하게 식별하는 속성, 외래키는 다른 테이블의 기본키를 참조하여 테이블 간 관계(Relationship)를 형성
- 무결성 제약조건이란 무엇이며 왜 필요한가요?
  - 데이터의 정확성과 일관성을 보장하기 위한 제약조건. 예를 들어, 외래키 제약으로 존재하지 않는 학번으로 수강정보를 입력할 수 없게 함.
- 조인(Join)이란 무엇이며, 어떤 종류가 있나요?
  - 여러 테이블을 공통된 속성을 기준으로 결합하는 연산. 대표적으로 INNER JOIN, LEFT JOIN, RIGHT JOIN, FULL JOIN이 있으며, 이를 통해 서로 다른 테이블의 데이터를 하나로 통합할 수 있음.
- 관계형 DB의 단점은 무엇인가요?
  - 데이터가 정형화되어 있어 비정형 데이터 처리에 적합하지 않고, 복잡한 조인이 많을수록 성능이 저하될 수 있음.
