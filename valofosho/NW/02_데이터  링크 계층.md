# 🧩 OSI 2계층 — 데이터 링크 계층 (Data Link Layer)

> **전송 오류 없는 프레임 단위의 안정적인 데이터 전송**을 담당  
> 네트워크 계층이 보낸 **패킷(Packet)** 을 받아 **프레임(Frame)** 으로 변환하여  
> 물리 계층으로 전송하고, 수신 측에서는 이를 다시 패킷으로 복원함.

---

## 📜 핵심 개념

| 항목 | 내용 |
|:--|:--|
| **계층 번호** | OSI 7계층 중 2계층 |
| **데이터 단위** | **Frame (프레임)** |
| **주소 방식** | **MAC 주소 (물리 주소)** 사용 |
| **주요 기능** | 오류 검출, 흐름 제어, 프레임 동기화, 접근 제어 (MAC) |
| **대표 장비** | 스위치(Switch), 브리지(Bridge), 네트워크 카드(NIC) |
| **대표 프로토콜** | Ethernet, PPP, HDLC, ARP, RARP |

---

## ⚙️ 주요 기능

### 1️⃣ 프레이밍 (Framing)
- 네트워크 계층에서 받은 **패킷(Packet)** 을 **프레임(Frame)** 단위로 나누어 전송
- 각 프레임에 **헤더(Header)** 와 **트레일러(Trailer)** 추가  
  - **헤더:** 송수신 MAC 주소, 제어 정보 등  
  - **트레일러:** 오류 검출용 FCS(Frame Check Sequence)

```

| 프레임 헤더 | 데이터 (패킷) | 프레임 트레일러 |

```

---

### 2️⃣ 오류 제어 (Error Control)
- **전송 중 발생한 오류 검출 및 재전송 요청**
- 대표적 방법:  
  - **패리티 비트(Parity Bit)**  
  - **CRC(Cyclic Redundancy Check)**  
  - **ARQ(Automatic Repeat reQuest)**

> 💡 데이터 링크 계층은 *에러 검출(Error Detection)* 까지만 수행하고,  
> *복구(Error Correction)* 는 일반적으로 상위 계층(전송 계층)이 담당.

---

### 3️⃣ 흐름 제어 (Flow Control)
- 송신 측이 너무 빠르게 데이터를 보내 **수신 측 버퍼가 넘치지 않도록 조절**
- 대표 방식:
  - **Stop-and-Wait**: 한 프레임 전송 후 ACK 수신 대기  
  - **Sliding Window**: 여러 프레임을 연속 전송, 수신 확인 기반 윈도우 이동

---

### 4️⃣ 접근 제어 (Access Control)
- 여러 장치가 **공유 매체(예: LAN 케이블)** 를 사용할 때 충돌 방지
- **MAC(Media Access Control)** 하위 계층에서 수행  
- 대표 방식:
  - **CSMA/CD** (Carrier Sense Multiple Access with Collision Detection): Ethernet 유선 LAN  
  - **CSMA/CA** (Collision Avoidance): Wi-Fi 무선 LAN

---

## 🧱 데이터 링크 계층의 하위 구조

| 하위 계층 | 주요 역할 | 예시 |
|:--|:--|:--|
| **LLC (Logical Link Control)** | 상위 계층과의 인터페이스 제공, 오류/흐름 제어 | IEEE 802.2 |
| **MAC (Media Access Control)** | 물리적 매체 접근 제어, 주소 지정(MAC) | Ethernet(802.3), Wi-Fi(802.11) |

```

┌────────────────────┐
│   상위 계층 (네트워크) │
├────────────────────┤
│ LLC (논리 링크 제어)   │
├────────────────────┤
│ MAC (매체 접근 제어)   │
├────────────────────┤
│   하위 계층 (물리)    │
└────────────────────┘

```

---

## 💾 주소 체계

| 구분 | 설명 | 예시 |
|:--|:--|:--|
| **MAC 주소** | 네트워크 인터페이스 카드(NIC)에 부여된 **고유 식별자** | `00-1B-44-11-3A-B7` |
| **구성** | 48비트(6바이트): <br>상위 24비트(OUI, 제조사 식별자) + 하위 24비트(일련번호) | |
| **표기 방식** | 16진수 6쌍(`:` 또는 `-` 구분) | `00:1A:2B:3C:4D:5E` |

---

## 📡 대표 프로토콜 및 기술

| 프로토콜 / 기술 | 설명 |
|:--|:--|
| **Ethernet (IEEE 802.3)** | 유선 LAN 표준, CSMA/CD 기반 |
| **Wi-Fi (IEEE 802.11)** | 무선 LAN 표준, CSMA/CA 기반 |
| **PPP (Point-to-Point Protocol)** | 두 지점 간 직렬 통신용 |
| **HDLC (High-Level Data Link Control)** | 비트 기반 동기식 데이터 링크 프로토콜 |
| **ARP (Address Resolution Protocol)** | IP ↔ MAC 주소 변환 |
| **RARP (Reverse ARP)** | MAC ↔ IP 주소 변환 |

---

## 🧠 핵심 요약

| 항목 | 핵심 요약 |
|:--|:--|
| **역할** | 오류 없는 데이터 프레임 전송 |
| **단위** | Frame |
| **주소** | MAC 주소 (물리적 주소) |
| **장비** | 스위치, 브리지 |
| **하위 계층** | LLC / MAC |
| **핵심 기능** | 오류 제어, 흐름 제어, 접근 제어 |
| **대표 프로토콜** | Ethernet, PPP, ARP |

---

## 📊 정리 다이어그램

```

송신 측
┌───────────────────────────────┐
│  네트워크 계층 (IP)             │  패킷
├───────────────────────────────┤
│  데이터 링크 계층 (Ethernet)    │  프레임화 / MAC 주소 추가
├───────────────────────────────┤
│  물리 계층 (전선, 신호)         │  비트 전송
└───────────────────────────────┘

```

---

> ✅ **한줄 요약:**  
> 데이터 링크 계층은 **“MAC 주소 기반으로 오류 없는 프레임 전송”** 을 책임지는 계층이다.  
> 즉, IP가 어디로 가야 하는지를 결정한다면, **Data Link은 어떻게 도달할지를 결정**한다.
```
