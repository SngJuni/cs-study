# 🌍 IP 주소 체계 (IP Addressing System)

> **네트워크 계층(Network Layer)** 에서 사용되는 **논리적 주소 체계**  
> 데이터를 목적지까지 정확히 전달하기 위해 **IP 주소**를 사용하며,  
> 라우터가 이를 기반으로 **경로를 결정(Routing)** 한다.

---

## 🧩 1. IP 주소란?

| 항목 | 내용 |
|:--|:--|
| **정의** | 네트워크 상의 각 장치를 식별하기 위한 **논리적 주소** |
| **표기 방식** | IPv4: 32비트(4바이트), IPv6: 128비트(16바이트) |
| **구성 요소** | **네트워크 주소 (Network ID)** + **호스트 주소 (Host ID)** |
| **역할** | 데이터를 어떤 네트워크와 어떤 장치로 보낼지 구분 |

```

IPv4 예시: 192.168.0.15
→ [192.168.0] = 네트워크 ID / [15] = 호스트 ID

```

---

## 🧮 2. IPv4 주소 체계

### 📦 구성
- 총 **32비트(4바이트)**  
- 각 옥텟은 0~255 (8비트씩)
- 점(`.`)으로 구분된 4개의 10진수로 표현

```

11000000.10101000.00000000.00001111  → 192.168.0.15

```

---

## 📚 3. IPv4 주소 클래스 (Classful Addressing)

| 클래스 | 범위 | 시작 비트 | 네트워크/호스트 구분 | 기본 서브넷 마스크 | 사용 예시 |
|:--:|:--|:--:|:--|:--|:--|
| **A** | 0.0.0.0 ~ 127.255.255.255 | 0xxx | N.H.H.H | 255.0.0.0 | 대규모 기업 |
| **B** | 128.0.0.0 ~ 191.255.255.255 | 10xx | N.N.H.H | 255.255.0.0 | 중간 규모 조직 |
| **C** | 192.0.0.0 ~ 223.255.255.255 | 110x | N.N.N.H | 255.255.255.0 | 소규모 네트워크 |
| **D** | 224.0.0.0 ~ 239.255.255.255 | 1110 | 멀티캐스트용 | - | 방송형 데이터 전송 |
| **E** | 240.0.0.0 ~ 255.255.255.255 | 1111 | 실험/예약용 | - | 연구용 |

> 🧠 N = Network ID, H = Host ID

---

## 🔐 4. 공인 IP vs 사설 IP

| 구분 | 설명 | 예시 |
|:--|:--|:--|
| **공인 IP (Public IP)** | 인터넷 서비스 제공자(ISP)가 부여하는 전 세계 고유 주소 | `121.160.10.45` |
| **사설 IP (Private IP)** | 내부 네트워크에서만 사용되는 주소 | `10.0.0.0 ~ 10.255.255.255`<br>`172.16.0.0 ~ 172.31.255.255`<br>`192.168.0.0 ~ 192.168.255.255` |

> 🌐 외부 통신 시에는 **NAT(Network Address Translation)** 을 통해  
> 사설 IP ↔ 공인 IP로 변환되어 인터넷과 연결된다.

---

## 🧾 5. 서브넷 마스크 (Subnet Mask)

> 네트워크 ID와 호스트 ID를 구분하기 위한 **비트 마스크**

| 예시 | 네트워크 ID | 호스트 ID | 설명 |
|:--|:--|:--|:--|
| `IP: 192.168.1.10`<br>`Subnet: 255.255.255.0` | 192.168.1 | .10 | 앞의 24비트(255.255.255)는 네트워크 |
| `IP: 172.16.10.8`<br>`Subnet: 255.255.0.0` | 172.16 | .10.8 | 앞의 16비트는 네트워크 |

---

## 🧮 6. CIDR 표기법 (Classless Inter-Domain Routing)

> 클래스 기반 주소의 비효율성을 개선하기 위해 도입된 **비클래스 주소 체계**

- 형식: `IP주소/네트워크 비트 수`
- 예:  
  - `192.168.0.0/24` → 서브넷 마스크 `255.255.255.0`  
  - `10.0.0.0/16` → 서브넷 마스크 `255.255.0.0`
- `/` 뒤 숫자가 클수록 → 네트워크 범위 작음 → 호스트 수 적음

| CIDR | 호스트 수 | 서브넷 마스크 |
|:--:|:--:|:--:|
| `/8` | 16,777,214 | 255.0.0.0 |
| `/16` | 65,534 | 255.255.0.0 |
| `/24` | 254 | 255.255.255.0 |
| `/30` | 2 | 255.255.255.252 |

---

## 📤 7. 브로드캐스트 & 게이트웨이

| 용어 | 설명 | 예시 |
|:--|:--|:--|
| **네트워크 주소** | 네트워크를 식별하는 주소 (모든 호스트 비트=0) | `192.168.1.0` |
| **브로드캐스트 주소** | 해당 네트워크의 모든 장치에 전송 (모든 호스트 비트=1) | `192.168.1.255` |
| **기본 게이트웨이 (Default Gateway)** | 외부 네트워크로 나가는 출입구 (일반적으로 라우터 주소) | `192.168.1.1` |

---

## 🌐 8. IPv6 주소 체계

> IPv4 주소 고갈 문제 해결을 위해 개발된 128비트 주소 체계  
> (2¹²⁸개 = 사실상 무한에 가까운 개수)

| 항목 | 내용 |
|:--|:--|
| **길이** | 128비트 (16비트 × 8블록) |
| **표기 방식** | 16진수 8개 그룹 (`:`로 구분) |
| **예시** | `2001:0db8:0000:0000:0000:ff00:0042:8329` |
| **축약 규칙** | 연속된 0 그룹은 `::` 로 한 번만 생략 가능<br>`2001:0db8::ff00:42:8329` |
| **헤더 구조 단순화** | IPv4보다 효율적 라우팅 가능 |
| **보안 기능 내장** | IPsec 기본 포함 |

---

## 🧠 9. 핵심 요약

| 구분 | IPv4 | IPv6 |
|:--|:--|:--|
| 주소 길이 | 32비트 | 128비트 |
| 표현 방식 | 10진수 4개 | 16진수 8개 |
| 주소 개수 | 약 43억 개 | 거의 무한대 |
| 브로드캐스트 | 지원 | 미지원 (멀티캐스트 사용) |
| NAT 필요 | 있음 | 불필요 |
| 대표 예시 | 192.168.0.1 | 2001:db8::1 |

---

## 📊 시각적 구조 요약

```

IPv4: 192.168.0.15/24
┌───────────────┬──────┐
│ Network (24bit) │ Host │
└───────────────┴──────┘
│ 192.168.0      │ 15   │

IPv6: 2001:0db8:0000:0000:0000:ff00:0042:8329
┌────────────────────────────┐
│ 128-bit logical address     │
└────────────────────────────┘

```

---
```
> ✅ **한줄 요약:**  
> IP 주소는 네트워크에서 **장치를 식별하고**,  
> **라우터를 통해 경로를 결정하는 논리적 주소 체계**이다.  
> IPv4는 32비트, IPv6는 128비트로 구성되어 있으며,  
> CIDR과 서브넷팅을 통해 효율적인 주소 관리가 가능하다.
```