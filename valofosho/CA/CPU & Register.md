# CPU & Register

## **CPU(중앙 처리 장치)**

> 컴퓨터의 두뇌에 해당하는 요소로 메모리에 저장된 명령어를 읽어들여 명령어를 해석하고, 실행하는 하드웨어 부품
> 

### CPU 주요 구성 요소

1. **제어 장치(CU)**
    - 명령 제어 장치
        - 입력된 명령어를 해독하여 CPU 내부의 움직임을 총괄하고 각 과정 통제
        - 주로 데이터를 메모리로부터 ALU로 옮기라는 명령과 그 후 다시 메모리로 옮기는 명령
2. **산술 연산 장치(ALU)**
    - CU로부터 명령을 받아 cpu로부터 들어온 모든 데이터들을 산술연산, 논리연산 진행
        - 산술 연산 : 숫자 계산
        - 논리 연산: 대수 비교, 저장 등
    - ALU에게는 연산을 담당하는 가산기, 보수기와 같은 요소들이 있다.
3. **레지스터(Register)**
    - CPU 내부에 있는 저장장치로 주 기억장치인 램보다 빠른 속도로 cpu에 정보를 제공하는 역할
4. **버스(BUS)**
    - 장치와  장치 사이 데이터를 주고 받기 위한 전송선

### CPU 동작 과정

1. **인출(Instruction Fetch)**
    - PC의 주소 → MAR → 메모리 접근 → MDR → IR 저장
    - PC는 다음 명령어 주소로 갱신
2. **해독(Instruction Decode)**
    - CU가 IR의 Opcode를 해석
3. **실행(Instruction Execute)**
    - ALU 연산 수행, 메모리 접근, 분기 수행 등
4. **저장(Write Back)**
    - 결과를 레지스터/메모리에 기록

## 레지스터(Register)

> 레지스터는 컴퓨터의 중앙 처리 장치(CPU) 내부에 있는 매우 빠른 메모리 장치
> 
- 연산과 프로그램의 실행을 효율적으로 수행하기 위해 사용
- 컴퓨터 메모리와 상호 작용하는 여러 종류의 레지스터 존재
- 핵심 목적은 데이터를 빠르게 CPU로 가져오는 것
- RAM과는 달리 레지스터는 작고 빠르기에 CPU가 연산을 수행하는 데 필요한 중요한 정보(명령어, 데이터, 주소 등)를 임시 저장

### 레지스터의 종류

1. **프로그램 카운터 : Program Counter(PC)**
    - 다음 번에 실행할 명령어 주소를 기억하는 레지스터
    - 각 명령어가 인출된 후에는 자동적으로 일정 크기(명령어 길이: 워드)만큼 증가
    - 분기(Branch), 조건(Conditional)명령어가 실행되는 경우, 해당 명령어가 있는 목적지 주소 값으로 갱신
2. **누산기 : Accumulator(AC)**
    - 데이터의 연산결과를 일시적으로 저장하는 레지스터
    - 레지스터의 길이는 CPU가 한 번에 처리할 수 있는 데이터 비트수(단어 길이)와 동일
3. **명령어 레지스터 : Instruction Register(IR)**
    - 현재 실행 중인 명령을 기억하는 레지스터
    - 가장 최근에 지정된 주소 번지의 메모리로부터(주기억장치) cpu로 인출된 명령어 코드가 저장되는 레지스터
    - 메모리에 있는 명령어가 IR로 이동
    - Memory → MDR(MBR) → IR
4. **기억 장치 주소 레지스터 : Memory Address Register(MAR)**
    - 접근 할 메모리의 주소를 임시 저장
    - PC에 저장된 명령어 주소가 시스템 주소 버스로 출력되기 전에 일시적으로 저장
5. **기억 장치 버퍼 레지스터 : Memory Buffer Register(MBR)**
    - 기억장치에 쓰여질 데이터, 혹은 읽혀진 데이터를 일시적으로 저장하는 버퍼 레지스터 
    (데이타를 처리하기 위해 반드시 거쳐간다)
6. **입출력 주소 레지스터 : I/O Address Register(IOAR)**
    - 접근 할 I/O 장치의 주소를 저장
7. **입출력 버퍼 레지스터 : I/O Buffer Register(IOBR)**
    - I/O 장치와 CPU사이의 교환되는 데이터가 임시 저장됨
8. **플래그 레지스터 : Flag Register(FR)**
    - 연산 결과를 bit 단위로 할당하여 저장
9. **스택 포인터 : Stack Pointer(SP)**
    - 스택(Stack) 자료구조의 현재 최상단(top) 주소를 저장하는 레지스터
10. **베이스 레지스터 : Base Register(BR)**
    - 프로그램이나 데이터가 적재된 기준 주소(Base Address) 를 저장하는 레지스터
    - 명령어에 있는 상대 주소(Relative Address) 와 더해 실제 물리 주소 계산
    - 프로그램이 메모리 내 어디에 배치되든 실행 가능하도록 지원 (재배치)