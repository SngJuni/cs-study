# 폰 노이만 구조

## 요약

>폰 노이만이 제시한 컴퓨터 기본 구조 모델로 오늘날 대부분의 범용 컴퓨터가 따르는 아키텍쳐
CPU, 메모리, 입출력장치, 저장장치가 버스로 연결되어 있는 구조

핵심 개념: 프로그램 내장 방식(Stored-Program Concept)

→ 명령어와 데이터를 동일한 메모리에 저장, CPU가 이를 순차적으로 읽어 처리

→ 소프트웨어(프로그램) 교체 방식을 차용하여 편의성 증가, 범용성 향상

## 폰 노이만 구조 구성 요소

### CPU(중앙 처리 장치)

> 컴퓨터의 두뇌에 해당하는 요소로 메모리에 저장된 명령어를 읽어들여 명령어를 해석하고, 실행하는 하드웨어 부품
> 
1. 제어 장치(CU)
    - 명령 제어 장치
        - 입력된 명령어를 해독하여 cpu 내부의 움직임을 총괄하고 각 과정 통제
        - 주로 데이터를 메모리로부터 ALU로 옮기라는 명령과 그 후 다시 메모리로 옮기는 명령
2. 산술 연산 장치(ALU)
    - CU로부터 명령을 받아 cpu로부터 들어온 모든 데이터들을 산술연산, 논리연산 진행
        - 산술 연산 : 숫자 계산
        - 논리 연산: 대수 비교, 저장 등
    - ALU에게는 연산을 담당하는 가산기, 보수기와 같은 요소들이 있다.
3. 레지스터(Register)
    - cpu 내부에 있는 저장장치로 주 기억장치인 램보다 빠른 속도로 cpu에 정보를 제공하는 역할
    - 전원이 차단되면 데이터가 사라진다(휘발성)
    - 범용 레지스터
        - DR(Data Register): 메모리에서 가져온 데이터를 임시 보관할 때 사용, 일반 레지스터라고도 부름
        - AR(Address Register): 데이터 또는 명령어가 가져온 메모리의 주소가 저장
    - 특수 레지스터
        - PC(Program Couner): 메모리에서 인출될 명령어 주소를 갖고있는 레지스터
        - AC(Accumulator): 누산기, ALU에서 연산된 결과를 임시 저장
        - IR(Instruction Register): 명령어 레지스터, 현재 실행되고 있는 명령어 기억

### 메모리(기억 장치)

> 현재 실행되는 프로그램의 명령어와 데이터를 저장하는 부품
> 
- CPU가 필요 시 주소를 통해 접근
1. 주기억장치(Main Memory Unit)
    - RAM(휘발성)과 ROM(비휘발성)으로 구성
    - 일반적으로 일컫는 “메모리” 에 해당
2. 보조기억장치(Auxiliary Memory Unit)
    - 하드디스크, USB, CD-ROM 등을 지칭
    - ROM과 함께 전원이 차단되어도 데이터를 저장하는 기억장치
3. 캐시 메모리(Cache Memory)
    - 전원이 차단되면 데이터가 사라진다(휘발성)
    - 주 기억장치와 CPU 사이에 위치한 메모리로 속도 차이를 줄이기 위해 고안
    - 주 기억장치에서 실행할 프로그램의 일부분을 꺼내와서 CPU 사용 직전에 보관
    - 자주 사용되는 코드, 데이터, 프로그램 등이 저장

### 입출력 장치(I / O)

> 컴퓨터 외부에 연결되어 컴퓨터 내부와 정보를 교환하는 장치
> 
- 입력 장치 (키보드, 마우스 등): 컴퓨터 내부로 데이터 입력
- 출력 장치 (모니터, 스피커 등): 컴퓨터 데이터를 외부로 출력

### 시스템 BUS

> 컴퓨터 내부의 Memory(기억장치)와 CPU(중앙처리장치)간의 소통을 위해 연결된 회로
> 
1. 주소 버스(Address BUS)
    - MAR(Memory Address Register)에서 메모리 주소값을 주기억장치에게 전달하는 역할
    - 주소 전달에서 역할이 종료되므로 단방향 통신
    - 주기억장치의 용량에 따라 주소버스의 수가 정해진다
        - 메모리 주소값을 표현할 수 있을 만큼의 개수를 필요로 하기 때문
2. 데이터 버스(Data BUS)
    - 주기억장치로부터 MBR(Memory Buffer Register)에게 데이터를 전달하는 역할
    - 서로 데이터를 주고받아야 하기 때문에 양방향 버스
    - CPU가 한 번에 처리할 수 있는 데이터의 수인 Word의 크기를 갖는다
3. 제어 버스(Control BUS)
    - CPU에서 입출력 장치에게 동작을 지시하기 위해 보내는 제어 신호를 전달하는 역할
    - 읽기/쓰기 동작을 모두 수행하기 때문에 양방향 버스

### 동작 원리 (명령어 사이클)

1. 인출(Fetch): 메모리에서 명령어 인출 (PC → IR)
2. 해독(Decode): CU가 명령어 해석
3. 실행(Execute): ALU 연산 or I/O 동작 수행
4. 저장(Store): 결과를 메모리/레지스터에 저장

## 폰 노이만 구조의 장단점

### 장점

- 구조가 단순하고 구현 용이
- 소프트웨어의 복제가 용이해 다른 하드웨어여도 호환성이 보장된다면 동일 작업 수행 가능
- 프로그램 교체만으로 다양한 기능 수행 가능

### 단점

- 폰 노이만 병목현상
    - 명령어와 데이터를 같은 버스로 주고받아 속도 한계 발생
        - CPU가 명령어와 데이터에 동시 접근 불가능
            
            → 메모리 계층 구조의 탄생 배경 [레지스터 > 캐시 메모리 > 주 기억장치 > 보조 기억장치]
            
    - 하버드 아키텍쳐의 등장 배경
        - 메모리를 명령어와 데이터 저장 공간을 별개로 구분
        - 별개의 버스로 물리적으로 분할되어 동시에 작업 가능
            - 현재 명령 처리를 끝냄과 동시에 다음 명령을 읽어들일 수 있다
        - 단점
            - 폰 노이만 구조의 병목 현상만 해결
            - 기존의 메모리 속 프로그램을 순차적으로 실행하는 구조 자체는 변화 X