## 📖 파일 접근 방식

> 파일에 저장된 데이터에 접근하는 순서와 방법을 정의하는 방식
> 

### 순차 접근 (Sequential Access)

- 가장 간단하고 일반적인 접근 방법
- 데이터가 파일에 논리적 순서로 저장되어 있고, 앞에서부터 차례로 접근
- 테이프 모델 (Tape Model)에 기반
- 텍스트 파일, 로그 파일, 편집기, 컴파일러 등에서 사용
- 구현 간단하고 순차 처리에 적합
- 레코드 임의 접근 불가, 탐색 비효율적

#### 지원 연산

- `read next`: 읽고 다음 위치로
- `write next`: 쓰고 다음 위치로
- `skip n`: 레코드 n개 스킵 — 지원될 수도 아닐 수도 있음
- 현대 OS에서는 내부적으로 `fseek()`등을 이용해 순차 접근 구현

<br>

### 직접 접근 (Direct / Random Access)

- 파일을 여러 고정크기 레코드로 나누고, 각 레코드를 고유 번호 (인덱스)로 식별해 바로 접근
- 디스크 모델 (Disk Model)에 기초
- 대용량 정보의 즉각적인 접근에 용이함
- 임의 위치 데이터 접근 가능, 빠른 탐색 지원
- 구현 복잡하고 관리 비용 높음
- 데이터베이스, 대규모 데이터 파일, 바이너리 파일 등에서 사용
- 순차 접근은 직접 접근의 하위 집합으로 쉽게 구현 가능
    
    반대로, 직접 접근을 순차적으로 시뮬레이션하는 것은 비효율적
    

#### 지원 연산

- 접근하려는 레코드로 `jump`해서 읽기 또는 쓰기
- `read n`: n번 레코드 읽기
- `write n`: n번 레코드에 쓰기
- `jump to record n`

<br>

### 인덱스 접근 (Indexed Access)

- 파일의 각 레코드 위치를 인덱스 테이블에 저장해 접근
- 인덱스 테이블을 통해 두 번 이하의 접근으로 원하는 데이터 위치를 찾을 수 있음
- 직접 접근 기반 구조로 구현되는 형태
- 빠른 검색, 정렬과 탐색 용이
- 인덱스 블록이 추가로 공간을 소모하고, 별도로 관리 필요
- 데이터베이스 파일, 대용량 검색 시스템 등에 사용
- 인덱스 블록이 커지면 인덱스 자체를 또 인덱싱 가능 (다단계 인덱싱)
    - UNIX FS의 i-node 간접 블록이 다단계 인덱싱 대표적인 형태

<br>

### 세 접근 방식 비교

| 구분 | 순차 접근 | 직접 접근 | 인덱스 접근 |
| --- | --- | --- | --- |
| 기반 모델 | 테이프 | 디스크 | 디스크 + 인덱스 |
| 접근 단위 | 순차적 레코드 | 레코드 번호 | 인덱스 블록 |
| 임의 접근 | 불가능 | 가능 | 가능 |
| 탐색 속도 | 느림 | 빠름 | 매우 빠름 |
| 구현 난이도 | 낮음 | 중간 | 높음 |
| 대표 사용처 | 로그, 텍스트 | DB, 실행파일 | DBMS, 대용량 파일 시스템 |