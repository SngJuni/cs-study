## **교착 상태 (Deadlock)**

### 📌 한줄 요약

**교착 상태**란 두 개 이상의 프로세스들이 서로가 가진 자원을 기다리며 무한정 대기하는 상태로, 시스템 전체가 멈추는 결과를 초래할 수 있다.

---

### **1. 교착 상태란? (사거리 비유)**

교착 상태는 **'모든 차가 서로의 차가 지나가기를 기다리며 아무도 움직이지 못하는 사거리'**와 같다.

- 차량 A는 B가 지나가길 기다린다.
- 차량 B는 C가 지나가길 기다린다.
- 차량 C는 D가 지나가길 기다린다.
- 차량 D는 A가 지나가길 기다린다.

결과적으로 모든 차량(프로세스)은 자신이 원하는 도로(자원)를 상대방이 점유하고 있어 영원히 움직이지 못한다.

---

### **2. 교착 상태의 4가지 발생 조건**

교착 상태는 아래 **네 가지 조건이 모두 동시에 충족**될 때만 발생한다.

1. **상호 배제 (Mutual Exclusion)**: 한 자원은 한 번에 하나의 프로세스만 사용할 수 있다.
2. **점유와 대기 (Hold and Wait)**: 프로세스가 최소 하나의 자원을 가진 상태에서, 다른 프로세스가 가진 자원을 추가로 기다린다.
3. **비선점 (No Preemption)**: 다른 프로세스가 사용 중인 자원을 강제로 빼앗을 수 없다.
4. **환형 대기 (Circular Wait)**: 각 프로세스가 다음 프로세스가 가진 자원을 기다리는 원형의 대기 사슬이 형성된다.

---

### **3. 교착 상태의 해결 방법**

1. **예방 (Prevention)**: 위의 4가지 조건 중 하나라도 발생하지 않도록 시스템을 설계하는 방법이다.
2. **회피 (Avoidance)**: 자원 할당 요청이 들어왔을 때, 이 요청을 수락하면 교착 상태가 발생할 가능성이 있는지 시스템이 미리 검사하고(예: 은행원 알고리즘) 안전한 경우에만 할당하는 방법이다.
3. **탐지 및 회복 (Detection & Recovery)**: 교착 상태 발생을 허용한 뒤, 주기적으로 시스템을 검사하여 교착 상태를 탐지하고, 발견되면 관련된 프로세스를 강제 종료하는 등의 방법으로 회복한다.
4. **무시 (Ignorance)**: 교착 상태는 드물게 발생한다고 가정하고 아무런 조치도 하지 않는 방법이다. 대부분의 현대 운영체제(Windows, Linux 등)가 이 방식을 사용한다.